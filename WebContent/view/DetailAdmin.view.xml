<mvc:View xmlns:core="sap.ui.core" 
			xmlns:la="sap.ui.layout" 
			xmlns:u="sap.ui.unified" 
			xmlns:f="sap.ui.layout.form" 
			xmlns:mvc="sap.ui.core.mvc" 
			xmlns="sap.m" 
			xmlns:mc="sap.suite.ui.microchart"
			xmlns:microchart="sap.suite.ui.microchart"
			xmlns:html="http://www.w3.org/1999/xhtml" 
			xmlns:semantic="sap.m.semantic" 
			controllerName="consultanttracker.Consultant-Tracker_Prototype-1.controller.DetailAdmin">
	
	<semantic:DetailPage 
			id="DetailAdmin" 
			navButtonPress="onNavBack" 
			showNavButton="{device>/system/phone}" 
			busy="{detailView>/busy}" 
			busyIndicatorDelay="{detailView>/delay}">
			
	<semantic:customHeaderContent>

			
	</semantic:customHeaderContent>
	
	<semantic:content>
			

	<ObjectHeader id="oh1"
			responsive="true"
			fullScreenOptimized="false"
			icon="{ProductPicUrl}"
			iconAlt="{Name}"
			intro="{projectsModel>/Project_Description}"
			title="{projectsModel>/Project_Name}"
			titlePress="handleTitlePress"
			number="{progressModel>/percVal}"
			numberUnit="Completed"
			titleSelectorPress="onPress"
			showMarkers="true"
			markFlagged="false"
			markFavorite="false"
			numberState="Success"
			backgroundDesign="Transparent">
			
			<attributes>
			
					<ObjectAttribute
						title="ProjectID"
						text="{projectsModel>/Project_ID}"/>
						
					<ObjectAttribute
						title="Due"
						text="{ path: 
									'projectsModel>/Project_Deadline',
									formatter: '.formatter.date'}"/>
						
					<ObjectAttribute
						title="Client Name"
						text="{projectsModel>/ClientDetails/Client_Name}"/>
					
					</attributes>
					
					
					
					
	</ObjectHeader>		
		
	<IconTabBar 
		id="iconTabBar" 
		class="sapUiResponsiveContentPadding" 
		expandable="false"
		select="showMap">
				
		<items >

				<IconTabFilter 
				id="iconTabBarFilter1"
				key="key1" 
				icon="sap-icon://hint" 
				tooltip="Dashboard" 
				text="Dashboard">
					
			<content>

			<GenericTile 
			id="1"
			class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" 
			header="Overall progress" 
			subheader="Current">
			
			<TileContent >

			<mc:RadialMicroChart percentage="{tileProjectProgressModel>/projectProgress}" />	
			
			</TileContent>
		
			</GenericTile>
			
			<GenericTile 
			id="2"
			class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" 
			header="Consultants on Project" 
			subheader="Available" 
			press="onSelectTab">
			
			<TileContent >
			
			<NumericContent 
			value="{projectsModel>/countMembers}" 
			icon="sap-icon://employee" />
			
			</TileContent>
		
			</GenericTile>
			
			<GenericTile 
			id="3"
			class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" 
			header="Active Tasks" 
			subheader="in progress"
			press="onSelectTab">
			
			<TileContent >
			
			<NumericContent 
			value="{projectsModel>/countTasks}" 
			icon="sap-icon://activities"/>
	
			</TileContent>
		
			</GenericTile>
			
			
			<GenericTile 
			id="4"
			class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" 
			header="Overall hours worked" 
			subheader="current" >
			
			<TileContent 
			unit="{tileHoursModel>/expected}" 
			footer="Expected hours">
			
			<NumericContent 
			value="{tileHoursModel>/current}" 
			icon="sap-icon://present"/>
			
			</TileContent>
		
			</GenericTile>
			
			<GenericTile 
			id="5"
			class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" 
			header="Notifications" 
			subheader="new" 
			press="press">
			
			<TileContent 
			unit="100" 
			footer="Total messages">
			
			<NumericContent 
			value="3" 
			icon="sap-icon://notification-2"/>
			
			</TileContent>
		
			</GenericTile>
			
			<GenericTile 
			id="6"
			class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" 
			header="Calender" 
			subheader="view schedule" 
			press="openCalender" >
			
			<TileContent>
			
			<NumericContent 
			value="{projectsModel>/countTasks}" 
			icon="sap-icon://accelerated"/>
			
			</TileContent>
		
			</GenericTile>
			
			<GenericTile 
			id="7"
			class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" 
			header="location to" 
			subheader="{projectsModel>/ClientDetails/Client_Name}" 
			press="onSelectTab" >
			
			<TileContent>
			
			</TileContent>
		
			</GenericTile>
			</content>
						
					</IconTabFilter>
					
			<IconTabFilter 
				id="iconTabBarFilter2"
				key="key2" 
				icon="sap-icon://group" 
				tooltip="Team" 
				text="Team">
					
				<content>
						
					<Table 
						id="teamMemberTable"
						inset="false"
						items="{membersModel>/results}">
		
						<headerToolbar>
		
							<Toolbar>
			
								<content>
						
									<ToolbarSpacer />
					
						<Button
							icon="sap-icon://delete" 
							text="Team member"
							press="onDeleteConsultantFromProject">
							
							<customData>
							
							<core:CustomData
								key="multi"
								value="true" />
								
							<core:CustomData
								key="remember"
								value="true" />
								
							</customData>
							
						</Button>		
						
						<Button
							icon="sap-icon://add" 
							text="Team member"
							press="addConsultantToProject">
							
							<customData>
							
							<core:CustomData
								key="multi"
								value="true" />
								
							<core:CustomData
								key="remember"
								value="true" />
								
							</customData>
							
						</Button>
												
						<!-- <la:HorizontalLayout>
							<u:FileUploader id="csvUploader" 
							name="myFileUpload" 
							uploadUrl="AddFolder" 
							tooltip="Upload your csv file to the local server" 
							uploadComplete="addConsultantsViaCSV" 
							change="handleValueChange" 
							typeMissmatch="handleTypeMissmatch" 
							style="Emphasized" 
							fileType="csv" 
							placeholder="Choose a csv file ..."
							uploadOnChange="true">
								<u:parameters>
									<u:FileUploaderParameter name="param1" value="Foo"/>
									<u:FileUploaderParameter name="param2" value="bar"/>
								</u:parameters>
								<u:headerParameters>
									<u:FileUploaderParameter name="headerParam1" value="Foo"/>
									<u:FileUploaderParameter name="headerParam2" value="bar"/>
								</u:headerParameters>
							</u:FileUploader>
							
							<Button text="Upload File" press="handleUploadPress"/>
						</la:HorizontalLayout> -->
									
				</content>
				
			</Toolbar>
			
		</headerToolbar>
		
		<columns>
		
			<Column
				width="12em">
				
				<Text 
					text="Name"/>
					
			</Column>
			
			<Column
				minScreenWidth="Tablet"
				demandPopin="true">
				
				<Text 
					text="Email" />
					
			</Column>

			<Column
				minScreenWidth="Desktop"
				demandPopin="true"
				hAlign="Center">
				
				<Text 
					text="Role" />
					
			</Column>
			
				</columns>
				
		<items>
		
			<ColumnListItem>
			
				<cells>
				
					<Text
						text="{membersModel>ConsultantDetails/Consultant_Name}" />
						
					<Text
						text="{membersModel>ConsultantDetails/Consultant_email}" />
						
					<Text
						text="Programmer" />

				</cells>
				
			</ColumnListItem>
			
		</items>
		
	</Table>
	
				</content>
				
	</IconTabFilter>
	
	<IconTabFilter 
			id="iconTabBarFilter3"
			key="key3" 
			icon="sap-icon://activities" 
			tooltip="Tasks" 
			text="Tasks">

		<Table 
			id="idProductsTable"
			inset="false"
			items="{tasksModel>/results}">
			
		<headerToolbar>
		
			<Toolbar>
			
				<content>
						
					<ToolbarSpacer />
					
						<ToolbarSpacer/>
						
							<Button 
								icon="sap-icon://delete"
								text="Task"
								press="onRemoveTaskFromProject">
							<customData>
							
							<core:CustomData
								key="multi"
								value="true" />
								
							<core:CustomData
								key="remember"
								value="true" />
								
							</customData>
							</Button>
								
							<Button 
								icon="sap-icon://add" 
								text="Task" 
								press="onAddTask">
							<customData>
							
							<core:CustomData
								key="multi"
								value="true" />
								
							<core:CustomData
								key="remember"
								value="true" />
								
							</customData>
							</Button>
							
								
				</content>
				
			</Toolbar>
			
		</headerToolbar>
		
		<columns>
			<Column
				width="12em">
				<Text text="Name"/>
				
			</Column>
			
			<Column
				minScreenWidth="Tablet"
				demandPopin="true">
				<Text text="Due Date" />
				
			</Column>
			
			<Column
				minScreenWidth="Desktop"
				demandPopin="true"
				hAlign="End">
				<Text text="Progress" />
				
			</Column>
			
			<Column
				minScreenWidth="Desktop"
				demandPopin="true"
				hAlign="Center">
				<Text text="Feedback" />
				
			</Column>
			
			<Column
				minScreenWidth="Desktop"
				demandPopin="true"
				hAlign="Center">
				<Text text="Add activity" />
				
			</Column>
		</columns>
		
		<items>
		
			<ColumnListItem>
			
				<cells>
				
					<ObjectIdentifier
						title="{tasksModel>Name}"/>
						
					<Text
					text="{ path: 
					 			'tasksModel>Due_Date',
								formatter: '.formatter.date'}"/>
					
					<ProgressIndicator
					class="sapUiSmallMarginBottom"
					percentValue="{tasksModel>progress}"
					displayValue="{tasksModel>progress} %"
					showValue="true"
					state="Warning"
					displayOnly="true" />		
				
					<Text text="Inprogress" />
							
					<Button 
					icon="sap-icon://add-activity"  
					press="onAddActivity">
					</Button>
					
				</cells>
				
			</ColumnListItem>
			
		</items>
		
	</Table>


					</IconTabFilter>
					
					
<!-- 					<IconTabFilter
						 id="iconTabBarFilter4"
						 key="key4" 
						 icon="sap-icon://attachment" 
						 tooltip="Attachments" 
						 text="Attachments">
						 
						<content>
						
							<la:VerticalLayout>
							
								<u:FileUploader 
									id="fileUploader" 
									name="myFileUpload" 
									uploadUrl="AddFolder" 
									tooltip="Upload your file to the local server" 
									uploadComplete="" change="handleValueChange" 
									typeMissmatch="handleTypeMissmatch" 
									style="Emphasized" 
									fileType="txt,jpg" 
									placeholder="Choose a file for Upload...">
									
									<u:parameters>
									
										<u:FileUploaderParameter 
											name="param1" 
											value="Foo"/>
											
										<u:FileUploaderParameter 
											name="param2" 
											value="bar"/>
											
									</u:parameters>
									
									<u:headerParameters>
									
										<u:FileUploaderParameter 
											name="headerParam1" 
											value="Foo"/>
											
										<u:FileUploaderParameter 
											name="headerParam2" 
											value="bar"/>
											
									</u:headerParameters>
									
								</u:FileUploader>
								
								<Button 
									text="Upload File" 
									press="handleUploadPress"/>
									
							</la:VerticalLayout>

							<Table 
								id="idTable" 
								items="{attachment>/results}">
								
								<items>
								
									<ColumnListItem>
									
										<cells>
										
											<Text 
											
												text="{attachment>Attachment_Name}"/>
												
											<Text 
												text="{ path: 
						 									'attachment>Attachment_Upload_Date',
															formatter: '.formatter.date'}"/>
												
											<Text 
												text="{attachment>Attachment_Size} B"/>
												
										</cells> 
										
									</ColumnListItem>
									
								</items>
								
								<columns>
								
									<Column>
									
										<Text 
											text="File Name"/>
											
									</Column>
									
									<Column>
									
										<Text 
											text="Date Uploaded"/>
											
									</Column>
									
									<Column>
									
										<Text 
											text="Size"/>
											
									</Column>
									
								</columns>
								
							</Table>
							
						</content>
						
					</IconTabFilter> -->
					<IconTabFilter 
							id="iconTabBarFilter5" 
							key="key5"
							icon="sap-icon://map"
							tooltip="Map" 
							text="Map"
							>
	
							<content id='contentDiv'>
							
	
							 <HBox>
								 <Button 
								 id="show_hide_route_button"
								 press="ShowHide"
								 text="Show/Hide Route"/>
							</HBox>
							 <Text text="Distance:" id="Distance" />
								
							<HBox id="map_canvas" fitContainer="true" justifyContent="Center" alignItems="Center"   />
	                             
							</content>
	
						</IconTabFilter>
				</items>
				
			</IconTabBar>
			
		</semantic:content>

		<semantic:customFooterContent>	
				  <HBox>
						<Button						
						id="rateTeamBtn" 
 						text="Team Member Rating" 
 						icon="sap-icon://favorite" 
 						press="onRateTeam" 
 						enabled="false" 
 						visible="false" />
				 </HBox>					
				 <HBox>
						<Button press="editProjectDetails"  text="Edit project" icon="sap-icon://edit"/>
				</HBox>
		</semantic:customFooterContent>
		
	</semantic:DetailPage>
	<Dialog 
		title="Rate Team Members" 
		id="ratingsDialog">
	
		<beginButton>
		
		<Button 
			text="Submit" 
			press="onSubmitRates" 
			id="submitRatesButton"/>
		</beginButton>
		
		<endButton>
		<Button 
			text="Close" 
			press="onRatingsDialogClose" 
			id="closeRatesButton"/>
		</endButton>
		
	</Dialog>
</mvc:View>